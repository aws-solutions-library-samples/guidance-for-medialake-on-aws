spec: v1.0.0
node:
  id: twelvelabs_bedrock_results
  title: TwelveLabs Bedrock Results
  description: Retrieve embeddings from completed TwelveLabs Bedrock async job
  version: 1.0.0
  type: integration
  integration:
    config:
      lambda:
        handler: integration/TwelveLabsBedrockResultsLambdaDeployment
        runtime: python3.12
        iam_policy:
          statements:
            - effect: Allow
              actions:
                - logs:CreateLogGroup
                - logs:CreateLogStream
                - logs:PutLogEvents
              resources:
                - "*"
            - effect: Allow
              actions:
                - s3:GetObject
                - s3:ListBucket
                - s3:ListObjectsV2
              resources:
                - "*"
            - effect: Allow
              actions:
                - kms:Decrypt
              resources:
                - "*"
actions:
  get_results:
    summary: Get Embeddings
    description: Retrieve and parse embedding results from completed TwelveLabs Bedrock job
    operationId: getEmbeddings
    parameters: []
    x-requestMapping: integration/twelvelabs_bedrock_results/get_results/
    x-responseMapping: integration/twelvelabs_bedrock_results/get_results/
    connections:
      incoming:
        type: [invocation_arn, any]
      outgoing:
        type: [embeddings]
